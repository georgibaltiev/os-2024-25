Седмица 1 - 2025-02-21 - Записки
===

## 0. Основни команди за работа с терминал

### `clear` - изчиства терминала от написания текст върху него

### `man` (от manual) <команда, която искаме да потърсим> - отваря страница, в която детайлно е описана командата, какви аргументи и флагове приема и какво поведение има.

### `whoami` - принтира id-то на вашия потребител

### `who` - принтира потребителите с активна сесия в момента

### `exit` - прекратява сесията на потребителя

### `echo` <arg1> ... - принтира подадените аргументи

## 0.5. Накратко за релативни и абсолютни пътища

Абсолютен път до един файл наричаме път, който еднозначно определя къде се намира дадения файл спрямо корена на файловата система `/`

В случая, ако това е цялото дърво на файловата система,

```
/
└── a
    ├── b
    │   ├── c
    │   └── d
    └── e
        └─- f <- и се интересуваме от този файл
```

то абсолютният път до него е `/a/e/f`

Отделно, за да можем да навигираме и нагоре по директориите, са въведени 2 служебни директории

`.` -  реферира към директорията в която потребителя се намира в момента (текущата)  
`..` - реферира към родителската директория на текущата

Използвайки тези 2 служебни директории, ние можем да достъпваме файлове чрез относителни пътища

Относителните пътища зависят от текущата директория на потребителя:

```
/
└── a
    ├── b
    │   ├── c <- ако се намираме тук, 
    │   ├── d
    |   └── file1 <- то ../file1 сочи към този файл
    └── e
        ├── d <- но ако сме тук...
        ├─- f
        └── file1 <- то ../file1 сочи към този файл
```

От лекции:

`<абсолютен път> = <текуща директория>/<релативен път>`

Път като `/a/b/c/../../e`

```
/
└── a
    ├── b
    │   ├── c 
    │   └── d
    └── e <- сочи към тази директория
        ├── d 
        └─- f
```

## 1. Команди за ориентиране във файловата система

### `pwd <път до директория>` - принтира абсолютния път до текущата директория

`pwd` без аругементи = `pwd .` 

```
/
└── a
    ├── b 
    │   ├── c <- текуща директория,
    │   └── d
    └── e
```

`pwd` ще изведе `/a/b/c`

### `tree <път до директория>` - принтира в дървовиден изглед съдържанието на цялата директория

`tree` без аргументи = `tree .`

Например, ако потребителя

```
/
└── a <- се намира в тази директория
    ├── b 
    │   ├── c 
    │   └── d
    └── e
```

то `tree` ще изведе

```
.
├── b 
│   ├── c 
│   └── d
└── e
```

и `tree b` ще изведе

```
.
├── c 
└── d
```

### `realpath <път до директория или файл>` - извежда абсолютния път от корена до посочената директория/файл
`realpath` без аргументи = `realpath .`

Например, ако потребителя

```
/
└── a
    ├── b <- се намира в тази директория
    │   ├── c 
    │   └── d
    └── e
```

то `realpath` ще изведе `/a/b`,
a `realpath ../e` ще изведе `/a/e`

### `basename <път към директория>` - извежда само името на директорията/файла, към която/който пътя сочи

```
/
└── a
    ├── b 
    │   ├── c <- текуща директория
    │   └── d
    └── e
```

`basename ../../e` ще принтира `e`

### `ls <път до директория>` - връща списък от поделементите на директорията
`ls` без аргументи = `ls .`

### ls -A - връща списък от поделементите на директорията, които започват с точка

### ls -R - извършва рекурсивно командата за директорията и всяка нейна поддиректория

```
/
└── a <- потребителят е тук
    ├── b 
    │   ├── c
    │   └── d
    └── e
```

`ls` ще принтира `b e`  
`ls b` ще принтира `c d`

### `cd <път към директория> - променя текущата директория на потребителя да е подадената`

```
/
└── a
    ├── b
    │   ├── c <- ако потребителят е тук
    │   └── d
    └── e <- cd ../../e ще го премести тук 
```

`cd` без аргументи = `cd ~` (~ е home директорията на потребителя)

## 2. Команди за създаване/изтриване на директории/файлове

### `touch <път до файл>` - създава<sup id="h1">*</sup> нов файл на посоченото място

```
.
`-- a
    |-- b <- текуща директория
    |   `-- file1
    `-- c
```

`touch ../c/file2`

```
.
`-- a
    |-- b <- текуща директория
    |   `-- file1
    `-- c
        `-- file2
```

### `mkdir <път до директория>` - създава нова празна директория в посочената

```
. <- текуща директория
|-- dir1
|-- dir2
`-- dir3
```

`mkdir dir2/dir4`

```
. <- текуща директория
|-- dir1
|-- dir2
|   `-- dir4
`-- dir3
```

### `mkdir -p <път до дирктория>` - създава нова празна директория, като създава и несъществуващите директории по пътя

```
. <- текуща директория
|-- dir1
|-- dir2
|   `-- dir4
`-- dir3
```

`mkdir -p dir2/dir4/dir5/dir6`

```
. <- текуща директория
|-- dir1
|-- dir2
|   |-- dir4
|   `-- dir5
|       `-- dir6
`-- dir3
```

### `rm <път до файл>` - изтрива файла който е посочен

```
.
`-- a
    |-- b <- текуща директория
    |   `-- file1
    `-- c
        `-- file2
```

`rm ../c/file2`

```
.
`-- a
    |-- b <- текуща директория
    |   `-- file1
    `-- c
```

### `rm -r <път до директория/файл>` - изтрива рекурсивно директорията и всички поддиректории и файлове, които се съдържат в нея

```
. <- текуща директория
|-- dir1
|   `-- dir2
|       |-- file1
|       |-- file2
|       `-- file3
`-- dir3
```

`rm -r dir1/dir2`

```
. <- текуща директория
|-- dir1
`-- dir3
```

### `rmdir <път до празна директория>` - премахва празната директория

```
.
|-- dir1
|-- dir2
|   |-- dir4
|   `-- dir5
|       `-- dir6
`-- dir3
```

`rmdir dir2/dir5/dir6`

```
.
|-- dir1
|-- dir2
|   |-- dir4
|   `-- dir5
`-- dir3
```

### `rmdir -p <път до празна директория>` - премахва празната директория и всички родителски директории над нея, които не съдържат файлове/непразни директории

```
.
|-- dir1
|-- dir2
|   |-- dir4
|   |   `-- file1
|   |-- dir5
|   `-- dir6
|       `-- dir7
`-- dir3
```

`rmdir -p dir2/dir6/dir7`  
`rmdir: failed to remove directory 'dir2': Directory not empty`

```
.
|-- dir1
|-- dir2
|   |-- dir4
|   |   `-- file1
|   `-- dir5
`-- dir3
```

Командата частично е изпълнена - премахнати са dir7 и dir6, но в dir2 след премахванията все пак остават други файлове, поради което директорията не може да бъде затрита

### `cp <път към директория/файл, който да се копира> <път до директория/файл, в която/който да се копира>` - копира съдържанието файла, към който сочи първия аргумент във файла/директорията, към който сочи втория аргумент

```
. <- текуща директория
|-- dir1
|-- dir2
|   |-- dir4
|   |   `-- file1
|   `-- dir5
`-- dir3
```

`cp dir2/dir4/file1 dir2/dir5`

```
. <- текуща директория
|-- dir1
|-- dir2
|   |-- dir4
|   |   `-- file1
|   `-- dir5
|       `-- file1 <- Новосъздаден файл!
`-- dir3
```

Можем и да копираме съдържанието на един файл в друг съществуващ файл

```
. <- текуща директория
|-- dir1
|-- dir2
|   |-- dir4
|   |   |-- file1
|   |   `-- file2 <- със съдържание "i am here!"
|   `-- dir5
|       `-- file1
`-- dir3
```

`cp dir2/dir4/file2 dir2/dir5/file1`

```
. <- текуща директория
|-- dir1
|-- dir2
|   |-- dir4
|   |   |-- file1
|   |   `-- file2 <- със съдържание "i am here!"
|   `-- dir5
|       `-- file1 <- сега също със съдържание "i am here!"
`-- dir3
```

### `cp -r <път към директорията/файла, който да се копира> <път до директория, в която да се замести>` - аналогично на cp, но позволява копирането на цели директории

```
. <- текуща директория
|-- dir1
|-- dir2
|   `-- dir4
|       |-- file1
|       `-- file2
`-- dir3
```

`cp -r dir2/dir4 dir3`

```
. <- текуща директория
|-- dir1
|-- dir2
|   `-- dir4
|       |-- file1
|       `-- file2
`-- dir3
    `-- dir4
        |-- file1
        `-- file2
```

### `mv <път към директория/файл, който да се премести> <път към директория, файл, в който да се премести>` - Командата е аналогична по функционалност на `cp`, но премахва посочения файл от оригналната му директория

```
. <- текуща директория
|-- dir1
|-- dir2
|   `-- dir4
|       |-- file1
|       `-- file2
`-- dir3
```

`mv dir2/dir4 dir3`

```
. <- текуща директория
|-- dir1
|-- dir2
`-- dir3
    `-- dir4
        |-- file1
        `-- file2
```

## 3. Задачи

Задачи за самоподготовка [от репото](https://github.com/avelin/fmi-os/tree/master/exercises/02.commands): 
```
02-a-0100.txt
02-a-0500.txt
02-a-0501.txt
02-a-0600.txt
```